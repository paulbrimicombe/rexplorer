import{S as e,i as t,s,e as n,a,c as o,q as r,b as i,d as c,f as l,h as d,j as m,k as h,l as f,m as g,t as u,o as $,r as p,C as F,g as R,u as w,v as k,p as v}from"./client.6451e7c1.js";import{f as x}from"./index.9db3677c.js";import"./Banner.2eb0618d.js";import"./_common-styles.9c34c28b.js";import{M as j}from"./Modal.5f4c7c9c.js";import{g as y,R as L,s as E}from"./RatingsPage.81b3be87.js";function b(e){let t,s,a,r,l;return s=new L({props:{ratingName:"English monarchs",linkedRatingName:"consorts",ratingImageSrc:"monarch.jpg",ratingImageAlt:"English monarch",scores:e[3],sortField:e[0],showLinkedRatings:e[1],nameFilter:e[2]}}),s.$on("change",e[4]),{c(){t=n("div"),o(s.$$.fragment)},l(e){t=i(e,"DIV",{});var n=R(t);d(s.$$.fragment,n),n.forEach(c)},m(e,n){f(e,t,n),g(s,t,null),l=!0},p(e,t){const n={};8&t&&(n.scores=e[3]),1&t&&(n.sortField=e[0]),2&t&&(n.showLinkedRatings=e[1]),4&t&&(n.nameFilter=e[2]),s.$set(n)},i(e){l||(u(s.$$.fragment,e),w((()=>{r&&r.end(1),a||(a=k(t,x,{delay:300,duration:200})),a.start()})),l=!0)},o(e){$(s.$$.fragment,e),a&&a.invalidate(),r=v(t,x,{duration:200}),l=!1},d(e){e&&c(t),p(s),e&&r&&r.end()}}}function M(e){let t,s,F,R;return F=new j({props:{$$slots:{default:[b]},$$scope:{ctx:e}}}),{c(){t=n("meta"),s=a(),o(F.$$.fragment),this.h()},l(e){const n=r('[data-svelte="svelte-yx9k2o"]',document.head);t=i(n,"META",{name:!0,content:!0}),n.forEach(c),s=l(e),d(F.$$.fragment,e),this.h()},h(){document.title="Rexplorer monarchs",m(t,"name","Description"),m(t,"content","Rexplorer for exploring Rex Factor scores for English Monarchs")},m(e,n){h(document.head,t),f(e,s,n),g(F,e,n),R=!0},p(e,[t]){const s={};79&t&&(s.$$scope={dirty:t,ctx:e}),F.$set(s)},i(e){R||(u(F.$$.fragment,e),R=!0)},o(e){$(F.$$.fragment,e),R=!1},d(e){c(t),e&&c(s),p(F,e)}}}var I=function(e,t,s,n){return new(s||(s=Promise))((function(a,o){function r(e){try{c(n.next(e))}catch(e){o(e)}}function i(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,i)}c((n=n.apply(e,t||[])).next())}))};function A(){return I(this,void 0,void 0,(function*(){const e=yield this.fetch("data/monarchs.json"),t=yield e.json();if(200===e.status)return((null==t?void 0:t.scores)||[]).forEach((e=>{e.linkedRatings=e.consorts||[]})),t;this.error(e.status,t.message)}))}function D(e,t,s){const n=y();let{scores:a=[]}=t,{sortField:o=n.sortField}=t,{showLinkedRatings:r=n.showLinkedRatings}=t,{nameFilter:i=n.nameFilter}=t;F((()=>E({sortField:o,showLinkedRatings:r,nameFilter:i})));return e.$$set=e=>{"scores"in e&&s(3,a=e.scores),"sortField"in e&&s(0,o=e.sortField),"showLinkedRatings"in e&&s(1,r=e.showLinkedRatings),"nameFilter"in e&&s(2,i=e.nameFilter)},[o,r,i,a,e=>{s(0,o=e.detail.sortField),s(1,r=e.detail.showLinkedRatings),s(2,i=e.detail.nameFilter)}]}export default class extends e{constructor(e){super(),t(this,e,D,M,s,{scores:3,sortField:0,showLinkedRatings:1,nameFilter:2})}}export{A as preload};

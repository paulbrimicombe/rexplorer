import{S as t,i as s,s as e,e as n,a,c as o,q as r,b as i,d as c,f as l,h as d,j as m,k as f,l as h,m as u,t as g,o as $,r as p,B as F,g as R,u as w,v,p as k}from"./client.da93c6fa.js";import{f as x}from"./Banner.0549e415.js";import"./_common-styles.9c34c28b.js";import{M as L,g as j,R as y,s as E}from"./Modal.c2ffed49.js";function M(t){let s,e,a,r,l;return e=new y({props:{ratingName:"English consorts",linkedRatingName:"monarchs",ratingImageSrc:"consort.jpg",ratingImageAlt:"English consort",scores:t[3],sortField:t[0],showLinkedRatings:t[1],nameFilter:t[2]}}),e.$on("change",t[4]),{c(){s=n("div"),o(e.$$.fragment)},l(t){s=i(t,"DIV",{});var n=R(s);d(e.$$.fragment,n),n.forEach(c)},m(t,n){h(t,s,n),u(e,s,null),l=!0},p(t,s){const n={};8&s&&(n.scores=t[3]),1&s&&(n.sortField=t[0]),2&s&&(n.showLinkedRatings=t[1]),4&s&&(n.nameFilter=t[2]),e.$set(n)},i(t){l||(g(e.$$.fragment,t),w((()=>{r&&r.end(1),a||(a=v(s,x,{delay:300,duration:200})),a.start()})),l=!0)},o(t){$(e.$$.fragment,t),a&&a.invalidate(),r=k(s,x,{duration:200}),l=!1},d(t){t&&c(s),p(e),t&&r&&r.end()}}}function I(t){let s,e,F,R;return F=new L({props:{$$slots:{default:[M]},$$scope:{ctx:t}}}),{c(){s=n("meta"),e=a(),o(F.$$.fragment),this.h()},l(t){const n=r('[data-svelte="svelte-mm2tia"]',document.head);s=i(n,"META",{name:!0,content:!0}),n.forEach(c),e=l(t),d(F.$$.fragment,t),this.h()},h(){document.title="Rexplorer monarchs",m(s,"name","Description"),m(s,"content","Rexplorer for exploring Rex Factor scores for English Consorts")},m(t,n){f(document.head,s),h(t,e,n),u(F,t,n),R=!0},p(t,[s]){const e={};79&s&&(e.$$scope={dirty:s,ctx:t}),F.$set(e)},i(t){R||(g(F.$$.fragment,t),R=!0)},o(t){$(F.$$.fragment,t),R=!1},d(t){c(s),t&&c(e),p(F,t)}}}var b=function(t,s,e,n){return new(e||(e=Promise))((function(a,o){function r(t){try{c(n.next(t))}catch(t){o(t)}}function i(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var s;t.done?a(t.value):(s=t.value,s instanceof e?s:new e((function(t){t(s)}))).then(r,i)}c((n=n.apply(t,s||[])).next())}))};function A(){return b(this,void 0,void 0,(function*(){const t=yield this.fetch("data/consorts.json"),s=yield t.json();if(200===t.status)return((null==s?void 0:s.scores)||[]).forEach((t=>{t.linkedRatings=t.monarchs||[]})),s;this.error(t.status,t.statusMessage)}))}function B(t,s,e){const n=j();let{scores:a=[]}=s,{sortField:o=n.sortField}=s,{showLinkedRatings:r=n.showLinkedRatings}=s,{nameFilter:i=n.nameFilter}=s;F((()=>E({sortField:o,showLinkedRatings:r,nameFilter:i})));return t.$$set=t=>{"scores"in t&&e(3,a=t.scores),"sortField"in t&&e(0,o=t.sortField),"showLinkedRatings"in t&&e(1,r=t.showLinkedRatings),"nameFilter"in t&&e(2,i=t.nameFilter)},[o,r,i,a,t=>{e(0,o=t.detail.sortField),e(1,r=t.detail.showLinkedRatings),e(2,i=t.detail.nameFilter)}]}export default class extends t{constructor(t){super(),s(this,t,B,I,e,{scores:3,sortField:0,showLinkedRatings:1,nameFilter:2})}}export{A as preload};

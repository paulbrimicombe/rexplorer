import{S as e,i as t,s as n,e as s,a,c as i,q as o,b as r,d as l,f as c,h as d,j as m,k as u,l as g,m as f,t as h,o as $,r as p,B as F,g as R,u as k,v,p as w}from"./client.e45411bd.js";import{f as y}from"./Banner.d03f0b9d.js";import"./_common-styles.9c34c28b.js";import{g as j,M as x,R as b,s as L}from"./Modal.e4dc3000.js";function E(e){let t,n,a,o,c;return n=new b({props:{ratingName:"English royal teams",linkedRatingName:"individual scores",ratingImageSrc:"king-and-queen.jpg",ratingImageAlt:"King and queen playing chess",linkSymbol:"",scores:e[3],sortField:e[0],showLinkedRatings:e[1],nameFilter:e[2]}}),n.$on("change",e[4]),{c(){t=s("div"),i(n.$$.fragment)},l(e){t=r(e,"DIV",{});var s=R(t);d(n.$$.fragment,s),s.forEach(l)},m(e,s){g(e,t,s),f(n,t,null),c=!0},p(e,t){const s={};8&t&&(s.scores=e[3]),1&t&&(s.sortField=e[0]),2&t&&(s.showLinkedRatings=e[1]),4&t&&(s.nameFilter=e[2]),n.$set(s)},i(e){c||(h(n.$$.fragment,e),k((()=>{o&&o.end(1),a||(a=v(t,y,{delay:300,duration:200})),a.start()})),c=!0)},o(e){$(n.$$.fragment,e),a&&a.invalidate(),o=w(t,y,{duration:200}),c=!1},d(e){e&&l(t),p(n),e&&o&&o.end()}}}function q(e){let t,n,F,R;return F=new x({props:{$$slots:{default:[E]},$$scope:{ctx:e}}}),{c(){t=s("meta"),n=a(),i(F.$$.fragment),this.h()},l(e){const s=o('[data-svelte="svelte-wjiebm"]',document.head);t=r(s,"META",{name:!0,content:!0}),s.forEach(l),n=c(e),d(F.$$.fragment,e),this.h()},h(){document.title="Rexplorer consort & monarch teams",m(t,"name","Description"),m(t,"content","Rexplorer for exploring Rex Factor scores for English Monarch & Consort teams")},m(e,s){u(document.head,t),g(e,n,s),f(F,e,s),R=!0},p(e,[t]){const n={};47&t&&(n.$$scope={dirty:t,ctx:e}),F.$set(n)},i(e){R||(h(F.$$.fragment,e),R=!0)},o(e){$(F.$$.fragment,e),R=!1},d(e){l(t),e&&l(n),p(F,e)}}}var M=function(e,t,n,s){return new(n||(n=Promise))((function(a,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};function I(e){return M(this,void 0,void 0,(function*(){const t=yield this.fetch("data/teams.json"),n=yield t.json();if(200===t.status)return((null==n?void 0:n.scores)||[]).forEach((e=>{e.linkedRatings=e.linkedRatings||[]})),Object.assign(Object.assign({},j(e.query)),n);this.error(t.status,n.message)}))}function S(e,t,n){let{scores:s=[]}=t,{sortField:a=null}=t,{showLinkedRatings:i=!1}=t,{nameFilter:o=null}=t;F((()=>L({sortField:a,showLinkedRatings:i,nameFilter:o})));return e.$$set=e=>{"scores"in e&&n(3,s=e.scores),"sortField"in e&&n(0,a=e.sortField),"showLinkedRatings"in e&&n(1,i=e.showLinkedRatings),"nameFilter"in e&&n(2,o=e.nameFilter)},[a,i,o,s,e=>{console.log(e),n(0,a=e.detail.sortField),n(1,i=e.detail.showLinkedRatings),n(2,o=e.detail.nameFilter)}]}export default class extends e{constructor(e){super(),t(this,e,S,q,n,{scores:3,sortField:0,showLinkedRatings:1,nameFilter:2})}}export{I as preload};

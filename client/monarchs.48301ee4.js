import{S as t,i as s,s as e,e as n,a,c as o,h as r,b as i,d as c,f as l,k as d,l as m,m as h,n as f,o as g,q as u,r as $,v as p,E as F,g as R,w,x as k,u as x}from"./client.c00a22b0.js";import{f as v}from"./Banner.013f7909.js";import"./_common-styles.9c34c28b.js";import{M as y}from"./Modal.9872a0a9.js";import{g as L,R as j,s as E}from"./RatingsPage.6b1983bb.js";function b(t){let s,e,a,r,l;return e=new j({props:{ratingName:"English monarchs",linkedRatingName:"consorts",ratingImageSrc:"monarch.jpg",ratingImageAlt:"English monarch",scores:t[3],sortField:t[0],showLinkedRatings:t[1],nameFilter:t[2]}}),e.$on("change",t[4]),{c(){s=n("div"),o(e.$$.fragment)},l(t){s=i(t,"DIV",{});var n=R(s);d(e.$$.fragment,n),n.forEach(c)},m(t,n){f(t,s,n),g(e,s,null),l=!0},p(t,s){const n={};8&s&&(n.scores=t[3]),1&s&&(n.sortField=t[0]),2&s&&(n.showLinkedRatings=t[1]),4&s&&(n.nameFilter=t[2]),e.$set(n)},i(t){l||(u(e.$$.fragment,t),w((()=>{l&&(r&&r.end(1),a=k(s,v,{delay:300,duration:200}),a.start())})),l=!0)},o(t){$(e.$$.fragment,t),a&&a.invalidate(),r=x(s,v,{duration:200}),l=!1},d(t){t&&c(s),p(e),t&&r&&r.end()}}}function M(t){let s,e,F,R;return F=new y({props:{$$slots:{default:[b]},$$scope:{ctx:t}}}),{c(){s=n("meta"),e=a(),o(F.$$.fragment),this.h()},l(t){const n=r("svelte-yx9k2o",document.head);s=i(n,"META",{name:!0,content:!0}),n.forEach(c),e=l(t),d(F.$$.fragment,t),this.h()},h(){document.title="Rexplorer monarchs",m(s,"name","Description"),m(s,"content","Rexplorer for exploring Rex Factor scores for English Monarchs")},m(t,n){h(document.head,s),f(t,e,n),g(F,t,n),R=!0},p(t,[s]){const e={};79&s&&(e.$$scope={dirty:s,ctx:t}),F.$set(e)},i(t){R||(u(F.$$.fragment,t),R=!0)},o(t){$(F.$$.fragment,t),R=!1},d(t){c(s),t&&c(e),p(F,t)}}}var I=function(t,s,e,n){return new(e||(e=Promise))((function(a,o){function r(t){try{c(n.next(t))}catch(t){o(t)}}function i(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var s;t.done?a(t.value):(s=t.value,s instanceof e?s:new e((function(t){t(s)}))).then(r,i)}c((n=n.apply(t,s||[])).next())}))};function A(){return I(this,void 0,void 0,(function*(){const t=yield this.fetch("data/monarchs.json"),s=yield t.json();if(200===t.status)return((null==s?void 0:s.scores)||[]).forEach((t=>{t.linkedRatings=t.consorts||[]})),s;this.error(t.status,s.message)}))}function D(t,s,e){const n=L();let{scores:a=[]}=s,{sortField:o=n.sortField}=s,{showLinkedRatings:r=n.showLinkedRatings}=s,{nameFilter:i=n.nameFilter}=s;F((()=>E({sortField:o,showLinkedRatings:r,nameFilter:i})));return t.$$set=t=>{"scores"in t&&e(3,a=t.scores),"sortField"in t&&e(0,o=t.sortField),"showLinkedRatings"in t&&e(1,r=t.showLinkedRatings),"nameFilter"in t&&e(2,i=t.nameFilter)},[o,r,i,a,t=>{e(0,o=t.detail.sortField),e(1,r=t.detail.showLinkedRatings),e(2,i=t.detail.nameFilter)}]}export default class extends t{constructor(t){super(),s(this,t,D,M,e,{scores:3,sortField:0,showLinkedRatings:1,nameFilter:2})}}export{A as preload};

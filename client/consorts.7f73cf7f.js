import{S as t,i as s,s as e,e as n,a,c as o,q as r,b as i,d as c,f as l,h as d,j as m,k as u,l as h,m as f,t as g,o as $,r as p,B as F,g as w,u as R,v,p as k}from"./client.e45411bd.js";import{f as x}from"./Banner.d03f0b9d.js";import"./_common-styles.9c34c28b.js";import{g as j,M as y,R as L,s as E}from"./Modal.e4dc3000.js";function b(t){let s,e,a,r,l;return e=new L({props:{ratingName:"English consorts",linkedRatingName:"monarchs",ratingImageSrc:"english-consort-crown.jpg",ratingImageAlt:"English consort crown",scores:t[3],sortField:t[0],showLinkedRatings:t[1],nameFilter:t[2]}}),e.$on("change",t[4]),{c(){s=n("div"),o(e.$$.fragment)},l(t){s=i(t,"DIV",{});var n=w(s);d(e.$$.fragment,n),n.forEach(c)},m(t,n){h(t,s,n),f(e,s,null),l=!0},p(t,s){const n={};8&s&&(n.scores=t[3]),1&s&&(n.sortField=t[0]),2&s&&(n.showLinkedRatings=t[1]),4&s&&(n.nameFilter=t[2]),e.$set(n)},i(t){l||(g(e.$$.fragment,t),R((()=>{r&&r.end(1),a||(a=v(s,x,{delay:300,duration:200})),a.start()})),l=!0)},o(t){$(e.$$.fragment,t),a&&a.invalidate(),r=k(s,x,{duration:200}),l=!1},d(t){t&&c(s),p(e),t&&r&&r.end()}}}function M(t){let s,e,F,w;return F=new y({props:{$$slots:{default:[b]},$$scope:{ctx:t}}}),{c(){s=n("meta"),e=a(),o(F.$$.fragment),this.h()},l(t){const n=r('[data-svelte="svelte-mm2tia"]',document.head);s=i(n,"META",{name:!0,content:!0}),n.forEach(c),e=l(t),d(F.$$.fragment,t),this.h()},h(){document.title="Rexplorer monarchs",m(s,"name","Description"),m(s,"content","Rexplorer for exploring Rex Factor scores for English Consorts")},m(t,n){u(document.head,s),h(t,e,n),f(F,t,n),w=!0},p(t,[s]){const e={};47&s&&(e.$$scope={dirty:s,ctx:t}),F.$set(e)},i(t){w||(g(F.$$.fragment,t),w=!0)},o(t){$(F.$$.fragment,t),w=!1},d(t){c(s),t&&c(e),p(F,t)}}}var I=function(t,s,e,n){return new(e||(e=Promise))((function(a,o){function r(t){try{c(n.next(t))}catch(t){o(t)}}function i(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var s;t.done?a(t.value):(s=t.value,s instanceof e?s:new e((function(t){t(s)}))).then(r,i)}c((n=n.apply(t,s||[])).next())}))};function q(t){return I(this,void 0,void 0,(function*(){const s=yield this.fetch("data/consorts.json"),e=yield s.json();if(200===s.status)return((null==e?void 0:e.scores)||[]).forEach((t=>{t.linkedRatings=t.monarchs||[]})),Object.assign(Object.assign({},j(t.query)),e);this.error(s.status,s.statusMessage)}))}function A(t,s,e){let{scores:n=[]}=s,{sortField:a=null}=s,{showLinkedRatings:o=!1}=s,{nameFilter:r=null}=s;F((()=>E({sortField:a,showLinkedRatings:o,nameFilter:r})));return t.$$set=t=>{"scores"in t&&e(3,n=t.scores),"sortField"in t&&e(0,a=t.sortField),"showLinkedRatings"in t&&e(1,o=t.showLinkedRatings),"nameFilter"in t&&e(2,r=t.nameFilter)},[a,o,r,n,t=>{e(0,a=t.detail.sortField),e(1,o=t.detail.showLinkedRatings),e(2,r=t.detail.nameFilter)}]}export default class extends t{constructor(t){super(),s(this,t,A,M,e,{scores:3,sortField:0,showLinkedRatings:1,nameFilter:2})}}export{q as preload};

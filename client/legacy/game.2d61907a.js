import{_ as n,a as t,b as e,c as r,i as a,s as o,d as c,S as u,e as i,B as s,h as f,l,C as p,j as v,n as d,p as h,o as m,F as g,G as y,t as $,f as x,k as E,a3 as w,Q as D,v as b,R as k,u as R,a5 as I,H as P,g as A,m as C,r as _,y as O,V as S,x as N,aa as V,z as j,w as F,a9 as L,a7 as T,a6 as B,L as M,a1 as q,a2 as G,N as U}from"./client.10a988cf.js";import{s as Y,a as W,f as z,B as H}from"./Banner.1e8c24c4.js";import"./_common-styles.9c34c28b.js";import{C as Q,M as K}from"./Modal.fa30d64c.js";function J(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var a,o=t(n);if(r){var c=t(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return e(this,a)}}function X(n){var t,e,r;return{c:function(){t=i("div"),e=i("div"),r=s(n[0]),this.h()},l:function(a){t=f(a,"DIV",{class:!0});var o=l(t);e=f(o,"DIV",{});var c=l(e);r=p(c,n[0]),c.forEach(v),o.forEach(v),this.h()},h:function(){d(t,"class","popup svelte-1eosodn")},m:function(n,a){h(n,t,a),m(t,e),m(e,r)},p:function(n,t){1&g(t,1)[0]&&y(r,n[0])},i:$,o:$,d:function(n){n&&v(t)}}}function Z(n,t,e){var r=t.message;return n.$$set=function(n){"message"in n&&e(0,r=n.message)},[r]}var nn=function(t){n(i,u);var e=J(i);function i(n){var t;return r(this,i),t=e.call(this),a(c(t),n,Z,X,o,{message:0}),t}return i}();function tn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var a,o=t(n);if(r){var c=t(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return e(this,a)}}function en(n){var t,e,r,a;return e=new Q({props:{rating:null}}),{c:function(){t=i("div"),A(e.$$.fragment)},l:function(n){t=f(n,"DIV",{});var r=l(t);C(e.$$.fragment,r),r.forEach(v)},m:function(n,r){h(n,t,r),_(e,t,null),a=!0},p:$,i:function(n){a||(R(e.$$.fragment,n),O((function(){r||(r=S(t,W,{x:-500,y:50,duration:300},!0)),r.run(1)})),a=!0)},o:function(n){b(e.$$.fragment,n),r||(r=S(t,W,{x:-500,y:50,duration:300},!1)),r.run(0),a=!1},d:function(n){n&&v(t),N(e),n&&r&&r.end()}}}function rn(n){var t,e,r,a;return(e=new Q({props:{rating:n[1],clickableCategories:!n[7]&&"player"===n[8]}})).$on("select",n[11]),{c:function(){t=i("div"),A(e.$$.fragment)},l:function(n){t=f(n,"DIV",{});var r=l(t);C(e.$$.fragment,r),r.forEach(v)},m:function(n,r){h(n,t,r),_(e,t,null),a=!0},p:function(n,t){var r={};2&t&&(r.rating=n[1]),384&t&&(r.clickableCategories=!n[7]&&"player"===n[8]),e.$set(r)},i:function(n){a||(R(e.$$.fragment,n),O((function(){r||(r=S(t,W,{x:-500,y:50,duration:300},!0)),r.run(1)})),a=!0)},o:function(n){b(e.$$.fragment,n),r||(r=S(t,W,{x:-500,y:50,duration:300},!1)),r.run(0),a=!1},d:function(n){n&&v(t),N(e),n&&r&&r.end()}}}function an(n){var t;return{c:function(){t=i("div")},l:function(n){t=f(n,"DIV",{}),l(t).forEach(v)},m:function(n,e){h(n,t,e)},p:$,i:$,o:$,d:function(n){n&&v(t)}}}function on(n){var t,e,r,a;return e=new Q({props:{rating:null}}),{c:function(){t=i("div"),A(e.$$.fragment)},l:function(n){t=f(n,"DIV",{});var r=l(t);C(e.$$.fragment,r),r.forEach(v)},m:function(n,r){h(n,t,r),_(e,t,null),a=!0},p:$,i:function(n){a||(R(e.$$.fragment,n),O((function(){r||(r=S(t,W,{x:500,y:-50,duration:600},!0)),r.run(1)})),a=!0)},o:function(n){b(e.$$.fragment,n),r||(r=S(t,W,{x:500,y:-50,duration:600},!1)),r.run(0),a=!1},d:function(n){n&&v(t),N(e),n&&r&&r.end()}}}function cn(n){var t,e,r,a;return e=new Q({props:{rating:n[2],clickableCategories:!1}}),{c:function(){t=i("div"),A(e.$$.fragment)},l:function(n){t=f(n,"DIV",{});var r=l(t);C(e.$$.fragment,r),r.forEach(v)},m:function(n,r){h(n,t,r),_(e,t,null),a=!0},p:function(n,t){var r={};4&t&&(r.rating=n[2]),e.$set(r)},i:function(n){a||(R(e.$$.fragment,n),O((function(){r||(r=S(t,W,{x:500,y:-50,duration:600},!0)),r.run(1)})),a=!0)},o:function(n){b(e.$$.fragment,n),r||(r=S(t,W,{x:500,y:-50,duration:600},!1)),r.run(0),a=!1},d:function(n){n&&v(t),N(e),n&&r&&r.end()}}}function un(n){var t;return{c:function(){t=i("div")},l:function(n){t=f(n,"DIV",{}),l(t).forEach(v)},m:function(n,e){h(n,t,e)},p:$,i:$,o:$,d:function(n){n&&v(t)}}}function sn(n){var t,e,r,a,o,c,u,$,I,P,A,C,_,O,S,N,V,j,F,L=[an,rn,en],T=[];function B(n,t){return n[5]?0:n[1]?1:2}_=B(n),O=T[_]=L[_](n);var M=[un,cn,on],q=[];function G(n,t){return n[6]?0:n[2]?1:2}return V=G(n),j=q[V]=M[V](n),{c:function(){t=i("game-board"),e=i("play-area"),r=i("div"),a=s(n[0]),o=x(),c=s(n[3]),u=x(),$=i("div"),I=s("Dunstan the Fun Sponge: "),P=s(n[4]),A=x(),C=i("card-area"),O.c(),S=x(),N=i("card-area"),j.c(),this.h()},l:function(i){t=f(i,"GAME-BOARD",{class:!0});var s=l(t);e=f(s,"PLAY-AREA",{class:!0});var d=l(e);r=f(d,"DIV",{class:!0});var h=l(r);a=p(h,n[0]),o=E(h),c=p(h,n[3]),h.forEach(v),u=E(d),$=f(d,"DIV",{class:!0});var m=l($);I=p(m,"Dunstan the Fun Sponge: "),P=p(m,n[4]),m.forEach(v),A=E(d),C=f(d,"CARD-AREA",{});var g=l(C);O.l(g),g.forEach(v),S=E(d),N=f(d,"CARD-AREA",{});var y=l(N);j.l(y),y.forEach(v),d.forEach(v),s.forEach(v),this.h()},h:function(){d(r,"class","score svelte-r8fumq"),d($,"class","score svelte-r8fumq"),w(e,"class","svelte-r8fumq"),w(t,"class","svelte-r8fumq")},m:function(n,i){h(n,t,i),m(t,e),m(e,r),m(r,a),m(r,o),m(r,c),m(e,u),m(e,$),m($,I),m($,P),m(e,A),m(e,C),T[_].m(C,null),m(e,S),m(e,N),q[V].m(N,null),F=!0},p:function(n,t){var e=g(t,1)[0];(!F||1&e)&&y(a,n[0]),(!F||8&e)&&y(c,n[3]),(!F||16&e)&&y(P,n[4]);var r=_;(_=B(n))===r?T[_].p(n,e):(D(),b(T[r],1,1,(function(){T[r]=null})),k(),(O=T[_])?O.p(n,e):(O=T[_]=L[_](n)).c(),R(O,1),O.m(C,null));var o=V;(V=G(n))===o?q[V].p(n,e):(D(),b(q[o],1,1,(function(){q[o]=null})),k(),(j=q[V])?j.p(n,e):(j=q[V]=M[V](n)).c(),R(j,1),j.m(N,null))},i:function(n){F||(R(O),R(j),F=!0)},o:function(n){b(O),b(j),F=!1},d:function(n){n&&v(t),T[_].d(),q[V].d()}}}function fn(n,t,e){var r,a,o,c,u,i,s,f,l=this&&this.__awaiter||function(n,t,e,r){return new(e||(e=Promise))((function(a,o){function c(n){try{i(r.next(n))}catch(n){o(n)}}function u(n){try{i(r.throw(n))}catch(n){o(n)}}function i(n){var t;n.done?a(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,u)}i((r=r.apply(n,t||[])).next())}))},p=t.scores,v=t.playerName,d=I("simple-modal"),h=function(n){return new Promise((function(t){return setTimeout(t,n)}))},m=null,g=null,y={styleBg:{background:"none",top:"1em",left:0},styleWindow:{background:"rgba(0,0,0,0.8)",width:"fit-content"},styleContent:{},transitionWindow:Y,styleCloseButton:{display:"none",cursor:"pointer",borderRadius:"30%",boxShadow:"0 0 0 1px #00000033"}},$=function(){var n=function(n){for(var t=V(n),e=t.length-1;e>0;e--){var r=Math.floor(Math.random()*(e+1)),a=[t[r],t[e]];t[e]=a[0],t[r]=a[1]}return t}(p);r=n.splice(n.length/2),a=n,e(3,o=r.length),e(4,c=a.length),e(8,f="player"),e(5,u=!1),e(6,i=!1),e(7,s=!1)},x=function(n){var t=n.message,r=n.closeAfter,a=void 0===r?1e3:r;return l(void 0,void 0,void 0,P.mark((function n(){var r,o,c;return P.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=!s,e(7,s=!0),o=function(){d.close()},"undefined"!=typeof document&&document.addEventListener("keypress",o),c=new Promise((function(n){d.isOpen=!0,d.open(nn,{message:t},y,{onClose:function(){return l(void 0,void 0,void 0,P.mark((function t(){return P.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.isOpen=!1,n();case 2:case"end":return t.stop()}}),t)})))}})})),n.next=7,Promise.race([c,h(a)]);case 7:d.isClosed||d.close(),d.isOpen=!1,"undefined"!=typeof document&&document.removeEventListener("keypress",o),r&&e(7,s=!1);case 11:case"end":return n.stop()}}),n)})))},E=function(n){return l(void 0,void 0,void 0,P.mark((function t(){return P.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("computer"!==n){t.next=8;break}return e(6,i=!0),t.next=4,h(1e3);case 4:e(2,g=a.shift()),e(6,i=!1),t.next=13;break;case 8:return e(5,u=!0),t.next=11,h(1e3);case 11:e(1,m=r.shift()),e(5,u=!1);case 13:case"end":return t.stop()}}),t)})))},w=function(n){return l(void 0,void 0,void 0,P.mark((function t(){var u,i,p;return P.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(7,s=!0),u=n.category,t.next=4,E("player"===f?"computer":"player");case 4:return t.next=6,h(1e3);case 6:if(i=m[u],p=g[u],!(i>=p)){t.next=16;break}return r.push(g),r.push(m),e(8,f="player"),t.next=14,x({message:"YOU WIN!!",closeAfter:3e3});case 14:t.next=21;break;case 16:return a.push(g),a.push(m),e(8,f="computer"),t.next=21,x({message:"YOU LOSE!!",closeAfter:3e3});case 21:return e(3,o=r.length),e(4,c=a.length),t.next=25,l(void 0,void 0,void 0,P.mark((function n(){return P.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==o){n.next=6;break}return n.next=3,x({message:"You have no cards left — Dunstan the Fun Sponge has won the game!!",closeAfter:3e3});case 3:$(),n.next=10;break;case 6:if(0!==c){n.next=10;break}return n.next=9,x({message:"Dunstan the Fun Sponge has no cards left — you have won the game!!",closeAfter:3e3});case 9:$();case 10:case"end":return n.stop()}}),n)})));case 25:return t.abrupt("return",D());case 26:case"end":return t.stop()}}),t)})))},D=function(){return l(void 0,void 0,void 0,P.mark((function n(){var t;return P.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e(7,s=!0),!g&&!m){n.next=8;break}return e(6,i=!0),e(5,u=!0),n.next=6,h(1e3);case 6:e(6,i=!1),e(5,u=!1);case 8:return"computer"===f?e(1,m=null):e(2,g=null),n.next=11,E(f);case 11:return n.next=13,h(1e3);case 13:return n.next=15,x({message:"computer"===f?"It's Dunstan the Fun Sponges's turn…":"It's your turn. Pick a category…",closeAfter:2e3});case 15:if("player"!==f){n.next=19;break}e(7,s=!1),n.next=24;break;case 19:return t=["battleyness","scandal","subjectivity","longevity","dynasty"].sort((function(n,t){return g[n]>g[t]?-1:g[n]<g[t]?1:0}))[0],n.next=23,x({message:"Dunstan choses ".concat(t,"…"),closeAfter:1e3});case 23:w({player:"computer",category:t});case 24:case"end":return n.stop()}}),n)})))};$(),D();return n.$$set=function(n){"scores"in n&&e(10,p=n.scores),"playerName"in n&&e(0,v=n.playerName)},[v,m,g,o,c,u,i,s,f,w,p,function(n){return w({player:"player",category:n.detail})}]}var ln=function(t){n(i,u);var e=tn(i);function i(n){var t;return r(this,i),t=e.call(this),a(c(t),n,fn,sn,o,{scores:10,playerName:0}),t}return i}();function pn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var a,o=t(n);if(r){var c=t(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return e(this,a)}}function vn(n){var t,e,r,a,o;return e=new ln({props:{scores:n[0],playerName:n[2]}}),{c:function(){t=i("div"),A(e.$$.fragment)},l:function(n){t=f(n,"DIV",{});var r=l(t);C(e.$$.fragment,r),r.forEach(v)},m:function(n,r){h(n,t,r),_(e,t,null),o=!0},p:function(n,t){var r={};1&t&&(r.scores=n[0]),4&t&&(r.playerName=n[2]),e.$set(r)},i:function(n){o||(R(e.$$.fragment,n),O((function(){a&&a.end(1),r||(r=j(t,z,{delay:300,duration:200})),r.start()})),o=!0)},o:function(n){b(e.$$.fragment,n),r&&r.invalidate(),a=F(t,z,{duration:200}),o=!1},d:function(n){n&&v(t),N(e),n&&a&&a.end()}}}function dn(n){var t,e,r,a,o,c,u,g,y,$,w,D,k,I,P,S,V,L,Y,W,Q,K,J,X,Z,nn,tn,en,rn,an,on,cn,un;return e=new H({props:{title:"Rexplorer the Game",imagePath:"../king-and-queen-playing-chess.jpg",imageAlt:"King and Queen playing chess"}}),{c:function(){t=i("div"),A(e.$$.fragment),r=x(),a=i("p"),o=s("In the Rexplorer game you will pit your wits against Dunstan the Fun\n          Sponge!"),c=x(),u=i("p"),g=s("Choose your name and card category to play the game."),y=x(),$=i("form"),w=i("label"),D=s("Player name"),k=x(),I=i("input"),P=x(),S=i("label"),V=s("Card category"),L=x(),Y=i("select"),W=i("option"),Q=s("English monarchs"),K=i("option"),J=s("English consorts"),X=i("option"),Z=s("English royal teams"),nn=x(),tn=i("button"),en=s("Play the game!"),this.h()},l:function(n){t=f(n,"DIV",{});var i=l(t);C(e.$$.fragment,i),r=E(i),a=f(i,"P",{});var s=l(a);o=p(s,"In the Rexplorer game you will pit your wits against Dunstan the Fun\n          Sponge!"),s.forEach(v),c=E(i),u=f(i,"P",{});var d=l(u);g=p(d,"Choose your name and card category to play the game."),d.forEach(v),y=E(i),$=f(i,"FORM",{class:!0});var h=l($);w=f(h,"LABEL",{for:!0});var m=l(w);D=p(m,"Player name"),m.forEach(v),k=E(h),I=f(h,"INPUT",{type:!0}),P=E(h),S=f(h,"LABEL",{for:!0});var x=l(S);V=p(x,"Card category"),x.forEach(v),L=E(h),Y=f(h,"SELECT",{id:!0});var b=l(Y);W=f(b,"OPTION",{value:!0});var R=l(W);Q=p(R,"English monarchs"),R.forEach(v),K=f(b,"OPTION",{value:!0});var A=l(K);J=p(A,"English consorts"),A.forEach(v),X=f(b,"OPTION",{value:!0});var _=l(X);Z=p(_,"English royal teams"),_.forEach(v),b.forEach(v),nn=E(h),tn=f(h,"BUTTON",{type:!0});var O=l(tn);en=p(O,"Play the game!"),O.forEach(v),h.forEach(v),i.forEach(v),this.h()},h:function(){d(w,"for","name"),d(I,"type","text"),d(S,"for","rating-type"),W.__value="monarchs",W.value=W.__value,K.__value="consorts",K.value=K.__value,X.__value="teams",X.value=X.__value,d(Y,"id","rating-type"),void 0===n[1]&&O((function(){return n[5].call(Y)})),d(tn,"type","sumbit"),d($,"class","svelte-1jlkzna")},m:function(i,s){h(i,t,s),_(e,t,null),m(t,r),m(t,a),m(a,o),m(t,c),m(t,u),m(u,g),m(t,y),m(t,$),m($,w),m(w,D),m($,k),m($,I),T(I,n[2]),m($,P),m($,S),m(S,V),m($,L),m($,Y),m(Y,W),m(W,Q),m(Y,K),m(K,J),m(Y,X),m(X,Z),B(Y,n[1]),m($,nn),m($,tn),m(tn,en),on=!0,cn||(un=[M(I,"input",n[4]),M(Y,"change",n[5]),M($,"submit",q(G(n[3])))],cn=!0)},p:function(n,t){4&t&&I.value!==n[2]&&T(I,n[2]),2&t&&B(Y,n[1])},i:function(n){on||(R(e.$$.fragment,n),O((function(){an&&an.end(1),rn||(rn=j(t,z,{delay:300,duration:200})),rn.start()})),on=!0)},o:function(n){b(e.$$.fragment,n),rn&&rn.invalidate(),an=F(t,z,{duration:200}),on=!1},d:function(n){n&&v(t),N(e),n&&an&&an.end(),cn=!1,U(un)}}}function hn(n){var t,e,r,a,o,c,u=[dn,vn],s=[];function p(n,t){return 0===n[0].length?0:1}return e=p(n),r=s[e]=u[e](n),{c:function(){t=i("div"),r.c()},l:function(n){t=f(n,"DIV",{});var e=l(t);r.l(e),e.forEach(v)},m:function(n,r){h(n,t,r),s[e].m(t,null),c=!0},p:function(n,a){var o=e;(e=p(n))===o?s[e].p(n,a):(D(),b(s[o],1,1,(function(){s[o]=null})),k(),(r=s[e])?r.p(n,a):(r=s[e]=u[e](n)).c(),R(r,1),r.m(t,null))},i:function(n){c||(R(r),O((function(){o&&o.end(1),a||(a=j(t,z,{delay:300,duration:200})),a.start()})),c=!0)},o:function(n){b(r),a&&a.invalidate(),o=F(t,z,{duration:200}),c=!1},d:function(n){n&&v(t),s[e].d(),n&&o&&o.end()}}}function mn(n){var t,e;return t=new K({props:{$$slots:{default:[hn]},$$scope:{ctx:n}}}),{c:function(){A(t.$$.fragment)},l:function(n){C(t.$$.fragment,n)},m:function(n,r){_(t,n,r),e=!0},p:function(n,e){var r=g(e,1)[0],a={};135&r&&(a.$$scope={dirty:r,ctx:n}),t.$set(a)},i:function(n){e||(R(t.$$.fragment,n),e=!0)},o:function(n){b(t.$$.fragment,n),e=!1},d:function(n){N(t,n)}}}function gn(n,t,e){var r=this&&this.__awaiter||function(n,t,e,r){return new(e||(e=Promise))((function(a,o){function c(n){try{i(r.next(n))}catch(n){o(n)}}function u(n){try{i(r.throw(n))}catch(n){o(n)}}function i(n){var t;n.done?a(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,u)}i((r=r.apply(n,t||[])).next())}))},a=[],o="monarchs",c="Player";return[a,o,c,function(){return r(void 0,void 0,void 0,P.mark((function n(){var t,r;return P.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("FETCHING SCORES...."),n.next=3,fetch("data/".concat(o,".json"));case 3:return t=n.sent,n.next=6,t.json();case 6:r=n.sent,200===t.status?e(0,a=r.scores):this.error(t.status,t.statusText);case 8:case"end":return n.stop()}}),n,this)})))},function(){c=this.value,e(2,c)},function(){o=L(this),e(1,o)}]}var yn=function(t){n(i,u);var e=pn(i);function i(n){var t;return r(this,i),t=e.call(this),a(c(t),n,gn,mn,o,{}),t}return i}();export default yn;

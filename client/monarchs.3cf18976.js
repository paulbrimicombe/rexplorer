import{S as e,i as t,s as n,e as s,a,c as o,q as r,b as i,d as c,f as l,h as d,j as m,k as h,l as f,m as g,t as u,o as $,r as p,B as F,g as w,u as R,v as k,p as v}from"./client.7e8bafb6.js";import{f as x}from"./Banner.f0d82cfc.js";import"./_common-styles.9c34c28b.js";import{M as y,g as L,R as j,s as E}from"./Modal.f6b47cf4.js";function b(e){let t,n,a,r,l;return n=new j({props:{ratingName:"English monarchs",linkedRatingName:"consorts",ratingImageSrc:"english-monarch-crown.jpg",ratingImageAlt:"English monarch crown",scores:e[3],sortField:e[0],showLinkedRatings:e[1],nameFilter:e[2]}}),n.$on("change",e[4]),{c(){t=s("div"),o(n.$$.fragment)},l(e){t=i(e,"DIV",{});var s=w(t);d(n.$$.fragment,s),s.forEach(c)},m(e,s){f(e,t,s),g(n,t,null),l=!0},p(e,t){const s={};8&t&&(s.scores=e[3]),1&t&&(s.sortField=e[0]),2&t&&(s.showLinkedRatings=e[1]),4&t&&(s.nameFilter=e[2]),n.$set(s)},i(e){l||(u(n.$$.fragment,e),R((()=>{r&&r.end(1),a||(a=k(t,x,{delay:300,duration:200})),a.start()})),l=!0)},o(e){$(n.$$.fragment,e),a&&a.invalidate(),r=v(t,x,{duration:200}),l=!1},d(e){e&&c(t),p(n),e&&r&&r.end()}}}function M(e){let t,n,F,w;return F=new y({props:{$$slots:{default:[b]},$$scope:{ctx:e}}}),{c(){t=s("meta"),n=a(),o(F.$$.fragment),this.h()},l(e){const s=r('[data-svelte="svelte-yx9k2o"]',document.head);t=i(s,"META",{name:!0,content:!0}),s.forEach(c),n=l(e),d(F.$$.fragment,e),this.h()},h(){document.title="Rexplorer monarchs",m(t,"name","Description"),m(t,"content","Rexplorer for exploring Rex Factor scores for English Monarchs")},m(e,s){h(document.head,t),f(e,n,s),g(F,e,s),w=!0},p(e,[t]){const n={};79&t&&(n.$$scope={dirty:t,ctx:e}),F.$set(n)},i(e){w||(u(F.$$.fragment,e),w=!0)},o(e){$(F.$$.fragment,e),w=!1},d(e){c(t),e&&c(n),p(F,e)}}}var I=function(e,t,n,s){return new(n||(n=Promise))((function(a,o){function r(e){try{c(s.next(e))}catch(e){o(e)}}function i(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((s=s.apply(e,t||[])).next())}))};function A(){return I(this,void 0,void 0,(function*(){const e=yield this.fetch("data/monarchs.json"),t=yield e.json();if(200===e.status)return((null==t?void 0:t.scores)||[]).forEach((e=>{e.linkedRatings=e.consorts||[]})),t;this.error(e.status,t.message)}))}function B(e,t,n){const s=L();let{scores:a=[]}=t,{sortField:o=s.sortField}=t,{showLinkedRatings:r=s.showLinkedRatings}=t,{nameFilter:i=s.nameFilter}=t;F((()=>E({sortField:o,showLinkedRatings:r,nameFilter:i})));return e.$$set=e=>{"scores"in e&&n(3,a=e.scores),"sortField"in e&&n(0,o=e.sortField),"showLinkedRatings"in e&&n(1,r=e.showLinkedRatings),"nameFilter"in e&&n(2,i=e.nameFilter)},[o,r,i,a,e=>{n(0,o=e.detail.sortField),n(1,r=e.detail.showLinkedRatings),n(2,i=e.detail.nameFilter)}]}export default class extends e{constructor(e){super(),t(this,e,B,M,n,{scores:3,sortField:0,showLinkedRatings:1,nameFilter:2})}}export{A as preload};
